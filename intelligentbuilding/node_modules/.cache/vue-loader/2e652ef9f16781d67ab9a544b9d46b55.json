{"remainingRequest":"C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\src\\components\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\src\\components\\Home.vue","mtime":1628831110971},{"path":"C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lzq\\WebstormProjects\\智慧楼宇\\intelligentbuilding\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlL2J1aWxkL3RocmVlLm1vZHVsZScKaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJwppbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IFt7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgbGFiZWw6ICfkuIDnuqcgMScsCiAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICBpZDogNCwKICAgICAgICAgIGxhYmVsOiAn5LqM57qnIDEtMScsCiAgICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgICAgaWQ6IDksCiAgICAgICAgICAgIGxhYmVsOiAn5LiJ57qnIDEtMS0xJwogICAgICAgICAgfSwgewogICAgICAgICAgICBpZDogMTAsCiAgICAgICAgICAgIGxhYmVsOiAn5LiJ57qnIDEtMS0yJwogICAgICAgICAgfV0KICAgICAgICB9XQogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbGFiZWw6ICfkuIDnuqcgMicsCiAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICBpZDogNSwKICAgICAgICAgIGxhYmVsOiAn5LqM57qnIDItMScKICAgICAgICB9LCB7CiAgICAgICAgICBpZDogNiwKICAgICAgICAgIGxhYmVsOiAn5LqM57qnIDItMicKICAgICAgICB9XQogICAgICB9LCB7CiAgICAgICAgaWQ6IDMsCiAgICAgICAgbGFiZWw6ICfkuIDnuqcgMycsCiAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICBpZDogNywKICAgICAgICAgIGxhYmVsOiAn5LqM57qnIDMtMScKICAgICAgICB9LCB7CiAgICAgICAgICBpZDogOCwKICAgICAgICAgIGxhYmVsOiAn5LqM57qnIDMtMicKICAgICAgICB9XQogICAgICB9XSwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgbGFiZWw6ICdsYWJlbCcKICAgICAgfSwKICAgICAgZ3JvdXAxOiBudWxsLAogICAgICBjYW1lcmE6IG51bGwsCiAgICAgIHNjZW5lOiBudWxsLAogICAgICByZW5kZXJlcjogbnVsbCwKICAgICAgbWVzaDogbnVsbCwKICAgICAgY29udHJvbHM6IG51bGwsCiAgICAgIGNsb2NrOiBudWxsCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuaW5pdCgpCiAgICB0aGlzLmFuaW1hdGUoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g54K55Ye75qCR6IqC54K55LqL5Lu25aSE55CGCiAgICBoYW5kbGVUcmVlTm9kZUNsaWNrIChkYXRhLCBub2RlLCBlbGVtKSB7CiAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMuZ3JvdXAxKQogICAgICBmb3IgKGNvbnN0IHNjZW5lS2V5IGluIHRoaXMuc2NlbmUpIHsKICAgICAgICBjb25zb2xlLmxvZyhzY2VuZUtleSkKICAgICAgfQogICAgfSwKICAgIGdldENoZWNrZWROb2RlcyAoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkTm9kZXMoKSkKICAgIH0sCiAgICBnZXRDaGVja2VkS2V5cyAoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkS2V5cygpKQogICAgfSwKICAgIHNldENoZWNrZWROb2RlcyAoKSB7CiAgICAgIHRoaXMuJHJlZnMudHJlZS5zZXRDaGVja2VkTm9kZXMoW3sKICAgICAgICBpZDogNSwKICAgICAgICBsYWJlbDogJ+S6jOe6pyAyLTEnCiAgICAgIH0sIHsKICAgICAgICBpZDogOSwKICAgICAgICBsYWJlbDogJ+S4iee6pyAxLTEtMScKICAgICAgfV0pCiAgICB9LAogICAgc2V0Q2hlY2tlZEtleXMgKCkgewogICAgICB0aGlzLiRyZWZzLnRyZWUuc2V0Q2hlY2tlZEtleXMoWzNdKQogICAgfSwKICAgIHJlc2V0Q2hlY2tlZCAoKSB7CiAgICAgIHRoaXMuJHJlZnMudHJlZS5zZXRDaGVja2VkS2V5cyhbXSkKICAgIH0sCiAgICAvLyDliJ3lp4vljJYKICAgIGluaXQgKCkgewogICAgICAvLyDliJvlu7rlnLrmma/lr7nosaFTY2VuZQogICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKQogICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAncHgnCiAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKQogICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoMHhiZmQxZTUpCgogICAgICAvLyDliJvlu7rmuLLmn5Plmajlr7nosaEKICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pCiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCwgdGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0KQogICAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pCiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCkKCiAgICAgIC8vIOebuOacuuiuvue9rgogICAgICBjb25zdCBmb3YgPSA0NQogICAgICBjb25zdCBhc3BlY3QgPSAyCiAgICAgIGNvbnN0IG5lYXIgPSAwLjEKICAgICAgY29uc3QgZmFyID0gMTAwCiAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpCiAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKAogICAgICAgIGZvdiwgYXNwZWN0LCBuZWFyLCBmYXIKICAgICAgKQogICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMTUsIDEwLCAyMCkgLy8g6K6+572u55u45py65L2N572uCgogICAgICAvLyDlhYnmupDorr7nva4KICAgICAgLy8g54K55YWJ5rqQCiAgICAgIGxldCBwb2ludCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmKQogICAgICBwb2ludC5wb3NpdGlvbi5zZXQoNDAwLCAyMDAsIDMwMCkgLy8g54K55YWJ5rqQ5L2N572uCiAgICAgIHRoaXMuc2NlbmUuYWRkKHBvaW50KSAvLyDngrnlhYnmupDmt7vliqDliLDlnLrmma/kuK0KICAgICAgLy8g546v5aKD5YWJCiAgICAgIGxldCBhbWJpZW50ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweDQ0NDQ0NCkKICAgICAgdGhpcy5zY2VuZS5hZGQoYW1iaWVudCkKCiAgICAgIHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKQogICAgICAvLyBvbnJlc2l6ZSDkuovku7bkvJrlnKjnqpflj6PooqvosIPmlbTlpKflsI/ml7blj5HnlJ8KICAgICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4gewogICAgICAgIC8vIOmHjee9rua4suafk+WZqOi+k+WHuueUu+W4g2NhbnZhc+WwuuWvuAogICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KQogICAgICAgIC8vIOWFqOWxj+aDheWGteS4i++8muiuvue9ruinguWvn+iMg+WbtOmVv+WuveavlGFzcGVjdOS4uueql+WPo+WuvemrmOavlAogICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0CiAgICAgICAgLy8g5riy5p+T5Zmo5omn6KGMcmVuZGVy5pa55rOV55qE5pe25YCZ5Lya6K+75Y+W55u45py65a+56LGh55qE5oqV5b2x55+p6Zi15bGe5oCncHJvamVjdGlvbk1hdHJpeAogICAgICAgIC8vIOS9huaYr+S4jeS8muavj+a4suafk+S4gOW4p++8jOWwsemAmui/h+ebuOacuueahOWxnuaAp+iuoeeul+aKleW9seefqemYtSjoioLnuqborqHnrpfotYTmupApCiAgICAgICAgLy8g5aaC5p6c55u45py655qE5LiA5Lqb5bGe5oCn5Y+R55Sf5LqG5Y+Y5YyW77yM6ZyA6KaB5omn6KGMdXBkYXRlUHJvamVjdGlvbk1hdHJpeCAoKeaWueazleabtOaWsOebuOacuueahOaKleW9seefqemYtQogICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKQogICAgICB9CgogICAgICB0aGlzLmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCkKICAgICAgdGhpcy5jb250cm9scy50YXJnZXQuc2V0KDUsIDAsIC0xMCkKICAgICAgdGhpcy5jb250cm9scy51cGRhdGUoKQoKICAgICAgLy8g5qih5Z6L5Yqg6L29CiAgICAgIHRoaXMub2JqZWN0TG9hZGVyKCcvc3RhdGljLzTmpbzlopnkvZMvNOalvOWimeS9ky5nbHRmJykKICAgIH0sCiAgICAvLyDliqjnlLsKICAgIGFuaW1hdGUgKCkgewogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKQogICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkKICAgIH0sCiAgICAvLyDmqKHlnovliqDovb0KICAgIG9iamVjdExvYWRlciAodXJsKSB7CiAgICAgIHRoaXMuZ2x0ZkxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCkKICAgICAgdGhpcy5nbHRmTG9hZGVyLmxvYWQodXJsLCAoZ2x0ZikgPT4gewogICAgICAgIGNvbnN0IG9iaiA9IGdsdGYuc2NlbmUKICAgICAgICBvYmoucG9zaXRpb24ueCA9IDAKICAgICAgICBvYmoucG9zaXRpb24ueSA9IDAKICAgICAgICBvYmoucG9zaXRpb24ueiA9IDAKICAgICAgICBvYmouc2NhbGUueCA9IDAuMgogICAgICAgIG9iai5zY2FsZS55ID0gMC4yCiAgICAgICAgb2JqLnNjYWxlLnogPSAwLjIKICAgICAgICB0aGlzLmdyb3VwMSA9IG5ldyBUSFJFRS5Hcm91cCgpCiAgICAgICAgdGhpcy5ncm91cDEuYWRkKG9iaikKICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmdyb3VwMSkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-tree :data=\"data\" show-checkbox default-expand-all node-key=\"id\" ref=\"tree\" highlight-current\n             :props=\"defaultProps\" @check=\"handleTreeNodeClick\">\n    </el-tree>\n    <div id=\"container\"></div>\n  </div>\n</template>\n\n<script>\nimport * as THREE from 'three/build/three.module'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\n\nexport default {\n  data () {\n    return {\n      data: [{\n        id: 1,\n        label: '一级 1',\n        children: [{\n          id: 4,\n          label: '二级 1-1',\n          children: [{\n            id: 9,\n            label: '三级 1-1-1'\n          }, {\n            id: 10,\n            label: '三级 1-1-2'\n          }]\n        }]\n      }, {\n        id: 2,\n        label: '一级 2',\n        children: [{\n          id: 5,\n          label: '二级 2-1'\n        }, {\n          id: 6,\n          label: '二级 2-2'\n        }]\n      }, {\n        id: 3,\n        label: '一级 3',\n        children: [{\n          id: 7,\n          label: '二级 3-1'\n        }, {\n          id: 8,\n          label: '二级 3-2'\n        }]\n      }],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      group1: null,\n      camera: null,\n      scene: null,\n      renderer: null,\n      mesh: null,\n      controls: null,\n      clock: null\n    }\n  },\n  mounted () {\n    this.init()\n    this.animate()\n  },\n  methods: {\n    // 点击树节点事件处理\n    handleTreeNodeClick (data, node, elem) {\n      this.scene.remove(this.group1)\n      for (const sceneKey in this.scene) {\n        console.log(sceneKey)\n      }\n    },\n    getCheckedNodes () {\n      console.log(this.$refs.tree.getCheckedNodes())\n    },\n    getCheckedKeys () {\n      console.log(this.$refs.tree.getCheckedKeys())\n    },\n    setCheckedNodes () {\n      this.$refs.tree.setCheckedNodes([{\n        id: 5,\n        label: '二级 2-1'\n      }, {\n        id: 9,\n        label: '三级 1-1-1'\n      }])\n    },\n    setCheckedKeys () {\n      this.$refs.tree.setCheckedKeys([3])\n    },\n    resetChecked () {\n      this.$refs.tree.setCheckedKeys([])\n    },\n    // 初始化\n    init () {\n      // 创建场景对象Scene\n      this.container = document.getElementById('container')\n      this.container.style.height = window.innerHeight + 'px'\n      this.scene = new THREE.Scene()\n      this.scene.background = new THREE.Color(0xbfd1e5)\n\n      // 创建渲染器对象\n      this.renderer = new THREE.WebGLRenderer({ antialias: true })\n      this.renderer.setSize(this.container.clientWidth, this.container.clientHeight)\n      this.renderer.setPixelRatio(window.devicePixelRatio)\n      this.container.appendChild(this.renderer.domElement)\n\n      // 相机设置\n      const fov = 45\n      const aspect = 2\n      const near = 0.1\n      const far = 100\n      this.container = document.getElementById('container')\n      this.camera = new THREE.PerspectiveCamera(\n        fov, aspect, near, far\n      )\n      this.camera.position.set(15, 10, 20) // 设置相机位置\n\n      // 光源设置\n      // 点光源\n      let point = new THREE.PointLight(0xffffff)\n      point.position.set(400, 200, 300) // 点光源位置\n      this.scene.add(point) // 点光源添加到场景中\n      // 环境光\n      let ambient = new THREE.AmbientLight(0x444444)\n      this.scene.add(ambient)\n\n      this.clock = new THREE.Clock()\n      // onresize 事件会在窗口被调整大小时发生\n      window.onresize = () => {\n        // 重置渲染器输出画布canvas尺寸\n        this.renderer.setSize(window.innerWidth, window.innerHeight)\n        // 全屏情况下：设置观察范围长宽比aspect为窗口宽高比\n        this.camera.aspect = window.innerWidth / window.innerHeight\n        // 渲染器执行render方法的时候会读取相机对象的投影矩阵属性projectionMatrix\n        // 但是不会每渲染一帧，就通过相机的属性计算投影矩阵(节约计算资源)\n        // 如果相机的一些属性发生了变化，需要执行updateProjectionMatrix ()方法更新相机的投影矩阵\n        this.camera.updateProjectionMatrix()\n      }\n\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement)\n      this.controls.target.set(5, 0, -10)\n      this.controls.update()\n\n      // 模型加载\n      this.objectLoader('/static/4楼墙体/4楼墙体.gltf')\n    },\n    // 动画\n    animate () {\n      requestAnimationFrame(this.animate)\n      this.renderer.render(this.scene, this.camera)\n    },\n    // 模型加载\n    objectLoader (url) {\n      this.gltfLoader = new GLTFLoader()\n      this.gltfLoader.load(url, (gltf) => {\n        const obj = gltf.scene\n        obj.position.x = 0\n        obj.position.y = 0\n        obj.position.z = 0\n        obj.scale.x = 0.2\n        obj.scale.y = 0.2\n        obj.scale.z = 0.2\n        this.group1 = new THREE.Group()\n        this.group1.add(obj)\n        this.scene.add(this.group1)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}